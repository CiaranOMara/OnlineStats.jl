<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Series · OnlineStats.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>OnlineStats.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Basics</a></li><li class="current"><a class="toctext" href="series.html">Series</a><ul class="internal"><li><a class="toctext" href="#Creating-a-Series-1">Creating a Series</a></li><li><a class="toctext" href="#Updating-1">Updating</a></li><li><a class="toctext" href="#Merging-1">Merging</a></li></ul></li><li><a class="toctext" href="weights.html">Weight</a></li><li><a class="toctext" href="stats_and_models.html">Statistics and Models</a></li><li><a class="toctext" href="parallel.html">Parallel Computation</a></li><li><a class="toctext" href="datasurrogates.html">Data Surrogates</a></li><li><a class="toctext" href="visualizations.html">Visualizations</a></li><li><a class="toctext" href="demos.html">Demos</a></li><li><a class="toctext" href="api.html">API</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="series.html">Series</a></li></ul><a class="edit-page" href="https://github.com/joshday/OnlineStats.jl/blob/master/docs/src/series.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Series</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Series-1" href="#Series-1">Series</a></h1><p>The <code>Series</code> type is the workhorse of <strong>OnlineStats</strong>.  A <code>Series</code> tracks</p><ol><li><p>A tuple of <code>OnlineStat</code>s.</p></li><li><p>A <a href="weights.html#Weight-1">Weight</a>.</p></li></ol><h2><a class="nav-anchor" id="Creating-a-Series-1" href="#Creating-a-Series-1">Creating a Series</a></h2><p>The <code>Series</code> constructor accepts any number of <code>OnlineStat</code>s, optionally preceded by data  to be fitted and/or a <code>Weight</code>.  When a <code>Weight</code> isn&#39;t specified, <code>Series</code> will use the default weight associated with the <code>OnlineStat</code>s.</p><h3><a class="nav-anchor" id="Start-&quot;empty&quot;-1" href="#Start-&quot;empty&quot;-1">Start &quot;empty&quot;</a></h3><pre><code class="language-none">Series(Mean(), Variance())

Series(ExponentialWeight(), Mean(), Variance())</code></pre><h3><a class="nav-anchor" id="Start-with-initial-data-1" href="#Start-with-initial-data-1">Start with initial data</a></h3><pre><code class="language-none">y = randn(100)

Series(y, Mean(), Variance())

Series(y, ExponentialWeight(.01), Mean(), Variance())

Series(ExponentialWeight(.01), y, Mean(), Variance())</code></pre><h2><a class="nav-anchor" id="Updating-1" href="#Updating-1">Updating</a></h2><p>Updating a <code>Series</code> updates the <code>OnlineStat</code>s it contains.  A <code>Series</code> can be updated with a single observation or a collection of observations via the <code>fit!</code> function:</p><pre><code class="language-julia">fit!(series, data)</code></pre><p>See <a href="https://github.com/joshday/OnlineStatsBase.jl">OnlineStatsBase.jl</a> for a look under  the hood of the update machinery.</p><h3><a class="nav-anchor" id="Single-observation-1" href="#Single-observation-1">Single observation</a></h3><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>A single observation depends on the <code>OnlineStat</code>.  For example, a single observation for a <code>Mean</code> is <code>Real</code> and for a <code>CovMatrix</code> is <code>AbstractVector</code> or <code>Tuple</code>.</p></div></div><pre><code class="language-julia">s = Series(Mean())
fit!(s, randn())

s = Series(CovMatrix(4))
fit!(s, randn(4))</code></pre><h4><a class="nav-anchor" id="Single-observation,-override-Weight-1" href="#Single-observation,-override-Weight-1">Single observation, override <code>Weight</code></a></h4><pre><code class="language-julia">s = Series(Mean())
fit!(s, randn(), .1)</code></pre><h3><a class="nav-anchor" id="Multiple-observations-1" href="#Multiple-observations-1">Multiple observations</a></h3><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>If a single observation is a <code>Vector</code>, a <code>Matrix</code> represents multiple observations, but this is ambiguous in how the observations are stored.  A <code>Rows()</code> (default) or <code>Cols()</code> argument can be added to the <code>fit!</code> call to specify observations are in rows or columns, respectively.</p></div></div><pre><code class="language-julia">s = Series(Mean())
fit!(s, randn(100))

s = Series(CovMatrix(4))
fit!(s, randn(100, 4))          # Obs. in rows
fit!(s, randn(4, 100), Cols())  # Obs. in columns</code></pre><h4><a class="nav-anchor" id="Multiple-observations,-use-the-same-weight-for-all-1" href="#Multiple-observations,-use-the-same-weight-for-all-1">Multiple observations, use the same weight for all</a></h4><pre><code class="language-julia">s = Series(Mean())
fit!(s, randn(100), .01)</code></pre><h4><a class="nav-anchor" id="Multiple-observations,-provide-vector-of-weights-1" href="#Multiple-observations,-provide-vector-of-weights-1">Multiple observations, provide vector of weights</a></h4><pre><code class="language-julia">s = Series(Mean())
w = StatsBase.Weights(rand(100))
fit!(s, randn(100), w)</code></pre><h2><a class="nav-anchor" id="Merging-1" href="#Merging-1">Merging</a></h2><p>Two <code>Series</code> can be merged if they track the same <code>OnlineStat</code>s.</p><pre><code class="language-julia">merge(series1, series2, arg)
merge!(series1, series2, arg)</code></pre><p>Where <code>series1</code>/<code>series2</code> are <code>Series</code> that contain the same <code>OnlineStat</code>s and <code>arg</code> is used to determine how <code>series2</code> should be merged into <code>series1</code>.</p><pre><code class="language-julia">y1 = randn(100)
y2 = randn(100)

s1 = Series(y1, Mean(), Variance())
s2 = Series(y2, Mean(), Variance())

# Treat s2 as a new batch of data using an `EqualWeight`.  Essentially:
# s1 = Series(Mean(), Variance()); fit!(s1, y1); fit!(s1, y2)
merge!(s1, s2, :append)

# Use weighted average based on nobs of each Series
merge!(s1, s2, :mean)

# Treat s2 as a single observation.
merge!(s1, s2, :singleton)

# Provide the ratio of influence s2 should have.
merge!(s1, s2, .5)</code></pre><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Basics</span></a><a class="next" href="weights.html"><span class="direction">Next</span><span class="title">Weight</span></a></footer></article></body></html>
